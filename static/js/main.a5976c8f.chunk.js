(this["webpackJsonpproject-4"]=this["webpackJsonpproject-4"]||[]).push([[0],{42:function(e,t,c){},44:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(7),a=c.n(n),r=c(35),s=c.n(r),o=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,50)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},i=c(12),l=c(8),u=Object(n.createContext)(),j=function(e){var t=e.children,c=Object(n.useState)(),a=Object(i.a)(c,2),r=a[0],s=a[1];return Object(l.jsx)(u.Provider,{value:{user:r,setUser:s},children:t})},b=Object(n.createContext)(),d=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(i.a)(c,2),r=a[0],s=a[1];return Object(l.jsx)(b.Provider,{value:{tweetsArray:r,setTweetsArray:s},children:t})},p=c(22),O=c(11),h=c.p+"static/media/logo.0ba75cc5.svg",x=(c(42),c(0)),f=c.n(x),m=c(1),v=c(28);var g=function(){var e=new v.a,t=Object(v.b)(),c=Object(n.useContext)(u).setUser,a=function(){var n=Object(m.a)(f.a.mark((function n(){var a,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(v.c)(t,e);case 3:a=n.sent,r=a.user,c(r),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),r=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.d)(t);case 3:c(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return{login:a,logout:r}},w=c.p+"static/media/logoGoogle.59ecfc59.svg";var _=function(){var e=g().login,t=Object(n.useContext)(u).user,c=Object(O.f)();return Object(n.useEffect)((function(){t&&c("/home")}),[t]),Object(l.jsxs)("div",{className:"initial-page",children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{className:"logo",src:h,alt:"main-logo"})}),Object(l.jsxs)("div",{className:"welcome-zone",children:[Object(l.jsx)("h2",{className:"line1",children:"Welcome developer!"}),Object(l.jsx)("p",{className:"line2",children:"Please sign in to be part of our community."}),Object(l.jsxs)("button",{className:"button-line",onClick:e,children:[Object(l.jsx)("img",{className:"logoGoogle",src:w,alt:"google"}),Object(l.jsx)("p",{className:"button-text",children:"Sign in with Google"})]})]})]})},N=(c(44),c.p+"static/media/group-1.3e57e339.svg"),k=c.p+"static/media/group-2.3a723647.svg";var y=function(){var e=Object(n.useContext)(u).user;return Object(l.jsx)("div",{className:"header",children:Object(l.jsxs)("div",{className:"header-content",children:[Object(l.jsx)(p.b,{to:"/profile",children:Object(l.jsx)("img",{className:"photo-header",src:e.photoURL,alt:"photo-header"})}),Object(l.jsx)("img",{className:"logo2",src:k,alt:"logo-flag"}),Object(l.jsx)("img",{className:"logo1",src:N,alt:"logo-name"})]})})},C=c(26),T=c(21),S=c(36),I=(Object(S.a)({apiKey:"AIzaSyCUm0olww86F-myZRbgvR0XWVltedffXSE",authDomain:"cr-project-25.firebaseapp.com",projectId:"cr-project-25",storageBucket:"cr-project-25.appspot.com",messagingSenderId:"494466625023",appId:"1:494466625023:web:ca320a236fc3dc97bccbca"}),Object(T.g)()),L=Object(T.b)(I,"tweets");var U=function(){var e=Object(n.useContext)(b).setTweetsArray,t=function(){var t=Object(m.a)(f.a.mark((function t(){var c,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(T.f)(L);case 3:c=t.sent,n=c.docs.map((function(e){return Object(C.a)(Object(C.a)({},e.data()),{},{id:e.id})})),e(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),c=function(){var e=Object(m.a)(f.a.mark((function e(c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(T.a)(L,c);case 3:return e.sent,e.next=6,t();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(m.a)(f.a.mark((function e(c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(T.c)(Object(T.d)(L,c));case 3:return e.next=5,t();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting document: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(m.a)(f.a.mark((function e(c){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.d)(L,c);case 2:return n=e.sent,e.next=5,Object(T.e)(n);case 5:return a=e.sent,e.next=8,Object(T.h)(n,{likes:a.data().likes?a.data().likes+1:1});case 8:return e.next=10,t();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{addNewTweet:c,getTweets:t,deleteTweet:a,addLikes:r}},E=(c(46),{text:"",userInfo:{author:"",uid:"",email:""}});var A=function(){var e=Object(n.useState)(E),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useContext)(u).user,s=U().addNewTweet;return Object(l.jsxs)("div",{className:"form-area",children:[Object(l.jsx)("img",{className:"photo",src:r.photoURL,alt:"profile"}),Object(l.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),s(c),a(E)},children:[Object(l.jsx)("textarea",{className:"text-area",placeholder:"What's happening?",name:"tweet",value:c.text,onChange:function(e){a(Object(C.a)(Object(C.a)({},c),{},{text:e.target.value,userInfo:{author:r&&r.displayName,uid:r&&r.uid,email:r&&r.email,photo:r&&r.photoURL}}))}}),Object(l.jsx)("button",{className:"post-button",type:"submit",children:"POST"})]})]})},D=c.p+"static/media/erase.1422f5fc.svg",P=c.p+"static/media/heart.8c1db44e.svg";c(47);var R=function(e){var t=e.tweetData,c=t.text,a=t.id,r=t.userInfo,s=t.likes,o=Object(n.useContext)(u).user,i=U(),j=i.deleteTweet,b=i.addLikes;return Object(l.jsxs)("div",{className:"tweet-card",children:[Object(l.jsx)("img",{className:"photo-tweet",src:r.photo,alt:"profile"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"username",children:r.author}),Object(l.jsxs)("span",{className:"email",children:[" - ",r.email]}),Object(l.jsx)("p",{className:"tweet-text-area",children:c}),Object(l.jsxs)("div",{className:"likes",children:[Object(l.jsx)("img",{className:"heart",onClick:function(){return b(a)},src:P,alt:"heart"}),s&&Object(l.jsx)("span",{className:"number-likes",children:s})]}),Object(l.jsx)("span",{className:"line",children:"___________________________________________"})]}),o.uid===r.uid&&Object(l.jsx)("button",{className:"trashcan-button",onClick:function(){return j(a)},children:Object(l.jsx)("img",{src:D,alt:"trashcan"})})]})};var F=function(){var e=Object(n.useContext)(b).tweetsArray,t=U().getTweets;return Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(l.jsx)("div",{className:"tweetsList",children:e.length>0?e.map((function(e){return Object(l.jsx)(R,{tweetData:e},e.id)})):"0 tweets"})};var G=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(y,{}),Object(l.jsx)(A,{}),Object(l.jsx)(F,{})]})};c(48);var B=function(){var e=g().logout,t=Object(O.f)(),c=Object(n.useContext)(u).user,a=Object(n.useContext)(b).tweetsArray;Object(n.useEffect)((function(){null===c&&t("/")}),[c]);var r=a.filter((function(e){var t;return(null===(t=e.userInfo)||void 0===t?void 0:t.uid)===(null===c||void 0===c?void 0:c.uid)}));return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"header-profile",children:[Object(l.jsx)(p.b,{to:"/home",children:Object(l.jsx)("img",{className:"logo-profile",src:k,alt:"logo-flag"})}),Object(l.jsx)("button",{className:"logout",onClick:e,children:"LOGOUT"})]}),Object(l.jsxs)("div",{className:"middle",children:[Object(l.jsx)("img",{className:"profile-picture",src:null===c||void 0===c?void 0:c.photoURL,alt:"none"}),Object(l.jsx)("span",{className:"profile-name",children:null===c||void 0===c?void 0:c.displayName})]}),Object(l.jsx)("div",{className:"posts",children:r.length>0?r.map((function(e){return Object(l.jsx)(R,{tweetData:e},e.id)})):"You don't have any tweets"})]})};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(j,{children:Object(l.jsx)(d,{children:Object(l.jsx)(p.a,{children:Object(l.jsxs)(O.c,{children:[Object(l.jsx)(O.a,{path:"/",element:Object(l.jsx)(_,{})}),Object(l.jsx)(O.a,{path:"/home",element:Object(l.jsx)(G,{})}),Object(l.jsx)(O.a,{path:"/profile",element:Object(l.jsx)(B,{})})]})})})})}),document.getElementById("root")),o()}},[[49,1,2]]]);
//# sourceMappingURL=main.a5976c8f.chunk.js.map